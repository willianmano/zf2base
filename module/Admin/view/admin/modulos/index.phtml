<?php
    if (sizeof($this->menuButtons))
        $this->menuBar($this->menuButtons);
?>
<div class="row">
    <div class="col-md-12">
        <table class="table table-bordered table-hover table-condensed">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Módulo</th>
                    <th>Descrição do módulo</th>
                    <th style="width:27px;"></th>
                    <th style="width:27px;"></th>
                </tr>
            </thead>
            <tbody>
                <?php
                    foreach ($resultSet as $key => $value) {
                        echo "<tr>";
                        echo    "<td>".$value->mod_id."</td>";
                        echo    "<td>".$value->mod_nome."</td>";
                        echo    "<td>".$value->mod_descricao."</td>";
                        echo    "<td>
                                    <a class='btn btn-mini btn-warning' href='/admin/modulos/update/".$value->mod_id."' data-id='".$value->mod_id."'>
                                        <i class='fa fa-pencil'></i>
                                    </a>
                                </td>";
                        echo    "<td>
                                    <a class='btn btn-mini btn-danger btn-window-confirm' href='#' data-id='".$value->mod_id."'>
                                        <i class='fa fa-trash-o'></i>
                                    </a>
                                </td>";
                        echo "</tr>";
                    }
                ?>
            </tbody>
        </table>
    </div>
</div>

<script type="text/javascript">

    $(".btn-window-confirm").click(function(e){
        
        var itemSelecionado = $(e.currentTarget).data('id');
        bootbox.confirm("Você tem certeza que deseja excluir esse módulo?", function(result) {
            if (result)
            {
                window.location.href = '/admin/modulos/delete/' + itemSelecionado;
            }
        });
    });

</script>